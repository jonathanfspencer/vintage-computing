# Apple Performa 638CD
Luckily, this one worked perfectly when I got it.  It had the [standard specs from EveryMac](https://everymac.com/systems/apple/mac_performa/specs/mac_performa_638cd.html), but I have, so far, upgraded to 36 MB RAM, replaced the hard drive with an 8 GB CompactFlash, and added a 10Mb Ethernet adapter.

## Replacing the Hard Drive
The Performa 638CD shipped with an Apple-branded 350 MB 3.5" IDE hard drive.  Mine works (and sounds) great, but I did not want to push my luck.  It is also a bit slow, so I decided to replace it with an 8 GB CompactFlash using a CF->IDE adapter.  The Performa/Quadra/Centris 630 family was the first to use IDE drives, which were cheaper than SCSI, which makes changing it out nowadays much more convenient.  The problem is that the drive formatting program that ships with System 7.1 only works with Apple hard drives.  Macintosh Garden has [a patched version](https://macintoshgarden.org/apps/apple-hd-sc-setup-753-patch) that will allegedly work with other drives, but I did not have a good way to get that onto my system.

I tried a few things that did not work to create an HFS partition on the CF card.  First, I plugged my USB CF reader into a fairly recent MacBook Pro running Mac OS 10.15 and ran the Disk Utility.  This is how I learned that HFS+ and HFS are not the same thing.  Do not bother trying this approach.  It is possible that a similar approach could work in a PowerPC G3 running OS 8, but I did not have one sitting around to try. What finally worked for me was installing `hfsutils` on an Ubuntu 20.04 computer and using `gparted` to create HFS partitions on my CompactFlash card.  After that, I was able to boot off the System 7 CD-ROM and install System 7 with no problems.

## Adding Applications
Trying to get additional software on the thing is a bit of a challenge.  I do not have any other Apple devices with floppy drives.  The only machine I _do_ have with a floppy drive is my [PII 350 running Windows 2000](e4200.md), which does not exactly know how to write HFS formatted floppies.  Even getting software onto that is a bit of pain, but at least I can transfer things to it with a USB flash drive.  Not so with the Performa.

The most reliable way I have found so far to transfer files (from, say, [Macintosh Garden](https://www.macintoshgarden.com/)) to the Performa is shutting it down, pulling the drive, connecting it to a machine running Ubuntu 20.04 (other distros probably work), and using the `hfsutils` package.

1. Open a terminal and run `sudo apt install hfsutils` to get the package.
2. Hook up the hard drive to your system somehow.  I replaced the hard drive with a CompactFlash card in an IDE->CF adapter, so I use a USB CompactFlash reader.  You can also use a USB->IDE adapter in this instance, since the Performa 630 series used IDE drives.
3. The "Disks" app in Ubuntu will tell you the path of your drive with minimal hassle, but there is probably some way to use `dmesg`.  My path is generally `/dev/sdc3` for the partition I want to use.
4. On my machine I need to be root to use `hfsultils`.  To mount the drive, make sure you do not have it mounted elsewhere and run `sudo hmount /dev/sdc3` (or whatever your partition's path is).
5. The command to copy files takes some getting used to.  I suggest changing to the directory from which you want to copy in your terminal first.  If you want to copy a file called "disk1.sit" into the root of an HFS partition called "Macintosh," you would run `hcopy disk1.sit -a Macintosh:`.  The `-a` flag tells `hcopy` to automatically determine the best way to copy the file (there are several binary and ascii modes from which you can choose).  The colon at the end there is the folder delimiter. Another example could look like `Macintosh:Applications:"Microsoft Office"` (note the quotes around paths with spaces).
6. There are `hfsutils` equivalents for most of your common filesystem creation tools, such as `hdir`, `hrmdir`, `hmkdir`, and so on.  Deleting folders is a pain, since you cannot delete non-empty folders.
7. Once you are finished, use `humount` to unmount your HFS drive.

Following the steps above will get files _onto_ your Performa, but, as I learned, this is not quite all you need.  Many of the files you download from places like [Macintosh Garden](https://www.macintoshgarden.org/) are compressed disk images, which a fresh install of System 7 will not know how to read.  It seems like most people who fix up and use older Apple computers already have fully functional older Apple computers sitting around to unstuff things and write images to floppies.  This was not the case for me, so I did a lot of digging and tried a lot of things.  What worked for me was the following:

1. Somehow I found a link to [this page in German](http://rrzs42.uni-regensburg.de/Macintosh/files/macftp.html) that has a link to a MS-DOS executable called MACDISK.exe.  I downloaded it from a Win10 box, put it on a USB flash drive, and ran it on my [Gateway E-4200](e4200.md) running Windows 2000 Professional.  This program will somehow write an Apple-formatted (HFS) floppy (possibly a boot disk) with several utilities, including StuffIt 4.  Using this disk, I was able to install StuffIt on the Performa, enabling me to decompress .sit archives.  You do this by dragging .sit files onto the StuffIt icon; StuffIt then creates a folder containing the files from the archive in the same folder that contains the .sit file you asked it to open.
2. I was then left wondering how to open the .bin files StuffIt extracted from the .sit files.  What I needed was [DiskCopy](https://macintoshgarden.org/apps/disk-copy-6).  I am very sorry, but I cannot remember which version ended up working for me.  I am pretty sure that one of the ones I tried ended up being a compressed disk image of the Disk Copy installer, which did me absolutely no good, as I was as yet unable to read disk images.  I dumped several version up to 6.3.3 on my CompactFlash card using the methods above, and one of them ended up working.  Somehow it works so well that it integrated with StuffIt, so when I download a .bin.sit, it gets unstuffed and mounted on the desktop.  Amazing.

## Networking
Okay, now things are getting interesting.  This Performa came with a 14.4 Kbps serial modem, which I really hope to use someday, but I do not currently have a landline or anything to act like one.  I did, however, have a bunch of RJ-45 based Ethernet junk, so that seemed like the way to go.

Now I did not grow up with Apple stuff; the first usable Mac I bought was in 2010, so, while I had _heard_ of AppleTalk, I figured it was just a weird thing like IPX/SPX I could ignore.

After reading EveryMac and Low End Mac articles about my machine, I had a good idea that I needed a Comm Slot network card.  Searching the web returned [this Wikipedia article](https://en.wikipedia.org/wiki/Apple_Communication_Slot#Communication_Slot), which verified I had a Comm Slot and listed some options.  I knew I wanted twisted pair, since I probably do not have anything with Thin-Net sitting around to talk to, so I looked into the 10BASE-T Apple Ethernet CS Twisted Pair Card (Part M3065Z/A).  Again, the web was very helpful and sent me to an eBay auction to pick one up and [this page with drivers for various Mac Ethernet adapters](https://vintageapple.org/macdrivers/network.shtml).

I do not generally read manuals, but this Performa came with a ton of them.  Apple did a great job with their design and layout, so I could not help but thumb through a few.  Luckily I did, because one of them stated that I needed to install the drivers _before_ physically installing the card.  That page with the link I just mentioned gave me the driver as a Stuffed disk image, which sent me down the rabbit hole described in a previous section trying to get it installed.

I also found out that I needed Open Transport.  OT, as it is known, is the TCP/IP stack for Classic Macs.  It installs itself as an alternate to AppleTalk and seems to work wherever AppleTalk would have, but I do not (yet) have an AppleTalk network to verify that.  OpenTransport 1.3 is [available at Macintosh Garden](https://macintoshgarden.org/apps/open-transport-13-gold-master).  I did have to the advanced user mode and explicitly set my network mask, gateway, and DNS before I could get assigned an IP address by my router for some reason.

Once I had an IP address, I installed and fired up [Netscape Navigator 3.0](https://macintoshgarden.org/apps/netscape-navigator-30-standard-edition).  Not surprisingly, most sites did not work, since TLS 1.2 was not around back then.  Macintosh Garden, though, does work (albeit without CSS and with JavaScript errors), which is quite handy.  To get at other sites, I ran the awesome [Web Rendering Proxy](https://github.com/tenox7/wrp) on my Win10 box and pointed Navigator at it.  WRP visits the pages you request in Chrome and generates image maps in your requested size and format, and then feeds them to your ancient browser.  While that makes things like text input fields and hovering menus a bit awkward, it's fine for a surprising many things and pleasantly fast.

Something awesome I happened upon while perusing Macintosh Garden is the [AppleFritter BBS eWorld Reboot](https://macintoshgarden.org/apps/applefritter-bbs-eworld-reboot).  When I installed System 7, I got really bummed that I had missed out on [eWorld](https://en.wikipedia.org/wiki/EWorld), a sort of Apple-only precursor to AOL.  Some genius reworked it to map to the AppleFritter BBS, though, and it is brilliant.  You really need to try it.  It works over TCP/IP, too, which eWorld apparently does not.

I am still looking for a good Telnet client for connecting to BBSes and MUDs.  So far I have tried [NiftyTelnet](https://macintoshgarden.org/apps/niftytelnet-11-ssh-r3), which works.  I have been working my way through the [Telnet BBS Guide](https://www.telnetbbsguide.com/) looking for a place to hangout.  If you do not know what I am talking about and are interested in computer counter culture, check out [BBS: The Documentary](http://www.bbsdocumentary.com/).

## Additional Resources
- [Low End Mac's Performa 630 Page](https://lowendmac.com/1994/performa-630/)
- [EveryMac's Performa 638CD Specs](https://everymac.com/systems/apple/mac_performa/specs/mac_performa_638cd.html)